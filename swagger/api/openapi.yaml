openapi: 3.0.0
info:
  title: API Documentation
  version: 1.0.0

paths:
  /api/v1/auth/login:
    post:
      tags:
        - auth
      summary: Log in with registered user
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
              required:
                - email
                - password
              example:
                email: "test-user@email.com"
                password: "Test12345"
      responses:
        '200':
          description: Logged in successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                      username:
                        type: string
                      email:
                        type: string
                      email_verified_at:
                        type: string
                      password:
                        type: string
                      created_at:
                        type: string
                      updated_at:
                        type: string
                  auth:
                    type: object
                    properties:
                      token:
                        type: string
                      type:
                        type: string
                example:
                  status: "Success"
                  message: "User logged in successfully"
                  user:
                    id: 1
                    username: "testuser"
                    email: "test-user@email.com"
                    email_verified_at: null
                    password: "$2y$12$1XSFpD5XpwBNWlZLYFj31Oewqi..."
                    created_at: "2024-09-01T11:57:55.000000Z"
                    updated_at: "2024-09-01T11:57:55.000000Z"
                  auth:
                    token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    type: "Bearer"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                example:
                  error: "Unauthorized"
        '405':
          description: Method not allowed
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                example:
                  error: "Method Not Allowed"
        '422':
          description: Validation errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  errors:
                    type: array
                    items:
                      type: string
                example:
                  message: "The email field must be a valid email address"
                  errors:
                    password:
                      - "The password field is required."
                    email: 
                      - "The email field must be a valid email address."

  /api/v1/auth/register:
    post:
      tags:
        - auth
      summary: Register a new user
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                email:
                  type: string
                  format: email
                password:
                  type: string
              required:
                - username
                - email
                - password
              example:
                username: "newuser"
                email: "new-user@email.com"
                password: "NewUser123"
      responses:
        '201':
          description: User registered successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  user:
                    type: object
                    properties:
                      username:
                        type: string
                      email:
                        type: string
                      password:
                        type: string
                      updated_at:
                        type: string
                      created_at:
                        type: string
                      id:
                        type: integer
                  auth:
                    type: object
                    properties:
                      token:
                        type: string
                      type:
                        type: string
                example:
                  status: "Success"
                  message: "User created successfully"
                  user:
                    username: "newuser"
                    email: "new-user@email.com"
                    password: "$2y$12$tjwddwXp6E/87dkdqokmm8@$)d..."
                    updated_at: "2024-09-01T13:55:46.000000Z"
                    created_at: "2024-09-01T13:55:46.000000Z"
                    id: 2
                  auth:
                    token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    type: "Bearer"
        '405':
          description: Method not allowed
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                example:
                  error: "Method Not Allowed"
        '422':
          description: Validation errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  errors:
                    type: array
                    items:
                      type: string
                example:
                  message: "The username has already been taken. (and 2 more errors)"
                  errors:
                    username:
                      - "The username has already been taken."
                    email:
                      - "The email field is required."
                    password:
                      - "The password field must be at least 6 characters"

  /api/v1/auth/profile:
    post:
      tags:
        - auth
      summary: Get authenticated user
      responses:
        '200':
          description: Current authenticated user
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  username:
                    type: string
                  email:
                    type: string
                  email_verified_at:
                    type: string
                  password:
                    type: string
                  updated_at::
                    type: string
                  created_at:
                    type: string
                example:
                  id: 2
                  username: "newuser"
                  email: "new-user@email.com"
                  email_verified_at: null
                  password: "$2y$12$tjwddwXp6E/87dkdqokmm8@$)d..."
                  updated_at: "2024-09-01T13:55:46.000000Z"
                  created_at: "2024-09-01T13:55:46.000000Z"
      security:
        - bearerAuth: []

  /api/v1/auth/logout:
    post:
      tags:
        - auth
      summary: Log out user
      responses:
        '200':
          description: Successfully logged out
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                example:
                  message: "Successfully logged out"
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                example:
                  message: "Token has expired"
      security:
        - bearerAuth: []

  /api/v1/auth/refresh:
    post:
      tags:
        - auth
      summary: Regenerate JWT token
      responses:
        '200':
          description: New JWT token generated
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                  token_type:
                    type: string
                  expires_in:
                    type: integer
                example:
                  access_token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  token_type: "bearer"
                  expires_in: 3600
      security:
        - bearerAuth: []

  /api/v1/customers:
    get:
      tags:
        - customers
      summary: Lists all customers
      responses:
        '200':
          description: List all customers
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  customers:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        username:
                          type: string
                        email:
                          type: string
                        first_name:
                          type: string
                        last_name:
                          type: string
                        date_of_birth:
                          type: string
                          format: date
                    example:
                      - id: 1
                        username: "john_doe"
                        email: "john.doe@example.com"
                        first_name: "John"
                        last_name: "Doe"
                        date_of_birth: "1980-01-01"
        '401':
            description: Unauthenticated
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    error:
                      type: string
                  example:
                    error: "Unauthenticated"
        '405':
          description: Method not allowed
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                example:
                  error: "Method Not Allowed"
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  message: "Internal server error"

  /api/v1/customers/{id}:
    get:
      tags:
        - customers
      summary: Gets customer by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: ID of the customer
      responses:
        '200':
          description: Get customer by ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  customer:
                    type: array
                    properties:
                      id:
                        type: integer
                      username:
                        type: string
                      email:
                        type: string
                      first_name:
                        type: string
                      last_name:
                        type: string
                      date_of_birth:
                        type: string
                        format: date
                    example:
                      status: "Success"
                      customer:
                        id: 1
                        username: "john_doe"
                        email: "john.doe@example.com"
                        first_name: "John"
                        last_name: "Doe"
                        date_of_birth: "1980-01-01"
        '404':
          description: No customer found with the given ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                example:
                  error: "No customer found with ID 1 found"
        '405':
          description: Method not allowed
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                example:
                  error: "Method Not Allowed"
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  message: "Internal server error"

    put:
      tags:
        - customers
      summary: Updates customer basic information
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: ID of the customer to update
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                first_name:
                  type: string
                last_name:
                  type: string
                date_of_birth:
                  type: string
                  format: date
                email:
                  type: string
              required:
                - username
                - email
                - date_of_birth
              example:
                username: "john_doe"
                first_name: "John"
                last_name: "Doe"
                date_of_birth: "1980-01-01"
                email: "john.doe@example.com"
      responses:
        '200':
          description: Customer information updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  customer:
                    type: object
                    properties:
                      id:
                        type: integer
                      username:
                        type: string
                      email:
                        type: string
                      first_name:
                        type: string
                      last_name:
                        type: string
                      date_of_birth:
                        type: string
                        format: date
                    example:
                      id: 1
                      username: "john_doe"
                      email: "john.doe@example.com"
                      first_name: "John"
                      last_name: "Doe"
                      date_of_birth: "1980-01-01"
        '422':
          description: Validation errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                example:
                  error: "You need to be over 16 years old"

    delete:
      tags:
        - customers
      summary: Deletes a customer
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: ID of the customer to delete
      responses:
        '200':
          description: Customer deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  customer:
                    type: object
                    properties:
                      id:
                        type: integer
                      username:
                        type: string
                      email:
                        type: string
                      first_name:
                        type: string
                      last_name:
                        type: string
                      date_of_birth:
                        type: string
                        format: date
                    example:
                      id: 1
                      username: "john_doe"
                      email: "john.doe@example.com"
                      first_name: "John"
                      last_name: "Doe"
                      date_of_birth: "1980-01-01"


  /api/v1/customers/{id}/billing-info:
    get:
      tags:
        - customers
      summary: Retrieve billing information for a customer
      parameters:
        - name: id
          in: path
          description: ID of the customer
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful response with billing information
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  billing_info:
                    type: object
                    properties:
                      cardholder:
                        type: string
                      card_type:
                        type: string
                      card_number:
                        type: string
                      cvv:
                        type: integer
                      card_expiration_date:
                        type: string
                example:
                  status: "success"
                  message: "Billing information for customer ID 123"
                  billing_info:
                    cardholder: "John Doe"
                    card_type: "Visa"
                    card_number: "4111111111111111"
                    cvv: 123
                    card_expiration_date: "12/24"
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Customer not found"

    put:
      tags:
        - customers
      summary: Update billing information for a customer
      parameters:
        - name: id
          in: path
          description: ID of the customer
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                cardholder:
                  type: string
                card_type:
                  type: string
                card_number:
                  type: string
                cvv:
                  type: integer
                card_expiration_date:
                  type: string
              required:
                - cardholder
                - card_type
                - card_number
                - cvv
                - card_expiration_date
              example:
                cardholder: "John Doe"
                card_type: "Visa"
                card_number: "4111111111111111"
                cvv: 123
                card_expiration_date: "12/24"
      responses:
        '200':
          description: Billing information updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  billing_info:
                    type: object
                    properties:
                      cardholder:
                        type: string
                      card_type:
                        type: string
                      card_number:
                        type: string
                      cvv:
                        type: integer
                      card_expiration_date:
                        type: string
                example:
                  status: "success"
                  message: "Billing information updated successfully"
                  billing_info:
                    cardholder: "John Doe"
                    card_type: "Visa"
                    card_number: "4111111111111111"
                    cvv: 123
                    card_expiration_date: "12/24"
        '400':
          description: Validation errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  errors:
                    type: object
                    additionalProperties:
                      type: array
                      items:
                        type: string
                example:
                  status: "error"
                  errors:
                    card_expiration_date:
                      - "The card expiration date format is invalid. Should be MM/YY"
                    cvv:
                      - "The cvv field must be 3 digits."
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Customer not found"
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Internal server error"

  /api/v1/customers/{id}/shipping-info:
    get:
      tags:
        - customers
      summary: Retrieve shipping information for a customer
      parameters:
        - name: id
          in: path
          description: ID of the customer
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful response with shipping information
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  shipping_info:
                    type: object
                    properties:
                      first_name:
                        type: string
                      last_name:
                        type: string
                      email:
                        type: string
                      street_and_number:
                        type: string
                      phone_number:
                        type: string
                      city:
                        type: string
                      postal_code:
                        type: integer
                      country:
                        type: string
                example:
                  status: "success"
                  message: "Shipping information for customer ID 123"
                  shipping_info:
                    first_name: "John"
                    last_name: "Doe"
                    email: "john.doe@example.com"
                    street_and_number: "123 Main St"
                    phone_number: "+1234567890"
                    city: "Springfield"
                    postal_code: 12345
                    country: "USA"
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Customer not found"

    put:
      tags:
        - customers
      summary: Update shipping information for a customer
      parameters:
        - name: id
          in: path
          description: ID of the customer
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                first_name:
                  type: string
                last_name:
                  type: string
                email:
                  type: string
                street_and_number:
                  type: string
                phone_number:
                  type: string
                city:
                  type: string
                postal_code:
                  type: integer
                country:
                  type: string
              required:
                - first_name
                - last_name
                - email
                - street_and_number
                - phone_number
                - city
                - postal_code
                - country
              example:
                first_name: "John"
                last_name: "Doe"
                email: "john.doe@example.com"
                street_and_number: "123 Main St"
                phone_number: "+1234567890"
                city: "Springfield"
                postal_code: 12345
                country: "USA"
      responses:
        '200':
          description: Shipping information updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  shipping_info:
                    type: object
                    properties:
                      first_name:
                        type: string
                      last_name:
                        type: string
                      email:
                        type: string
                      street_and_number:
                        type: string
                      phone_number:
                        type: string
                      city:
                        type: string
                      postal_code:
                        type: integer
                      country:
                        type: string
                example:
                  status: "success"
                  message: "Shipping information updated successfully"
                  shipping_info:
                    first_name: "John"
                    last_name: "Doe"
                    email: "john.doe@example.com"
                    street_and_number: "123 Main St"
                    phone_number: "+1234567890"
                    city: "Springfield"
                    postal_code: 12345
                    country: "USA"
        '400':
          description: Validation errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  errors:
                    type: object
                    additionalProperties:
                      type: array
                      items:
                        type: string
                example:
                  status: "error"
                  errors:
                    first_name:
                      - "The first name field format is invalid."
                    last_name:
                      - "The last name field format is invalid."
                    email:
                      - "The email field format is invalid."
                    city:
                      - "The city field format is invalid."
                    street_and_number:
                      - "The street and number field format is invalid."
                    country:
                      - "The country field format is invalid."
                    postal_code:
                      - "The postal code field must be an integer."
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Customer not found"
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Internal server error"

  /api/v1/products:
    get:
      tags:
        - products
      summary: List all products
      responses:
        '200':
          description: List of all products with their images
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  products:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        description:
                          type: string
                        price:
                          type: number
                          format: float
                        in_stock:
                          type: boolean
                        quantity:
                          type: integer
                        rating:
                          type: number
                          format: float
                        productImage:
                          type: object
                          properties:
                            id:
                              type: integer
                            url:
                              type: string
                example:
                  status: "success"
                  products:
                    - id: 1
                      name: "Product 1"
                      description: "Description of Product 1"
                      price: 19.99
                      in_stock: true
                      quantity: 100
                      rating: 4.5
                      productImage:
                        id: 1
                        url: "https://example.com/image1.jpg"
    post:
      tags:
        - products
      summary: Add new product
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                price:
                  type: number
                  format: float
                in_stock:
                  type: boolean
                quantity:
                  type: integer
                rating:
                  type: number
                  format: float
              required:
                - name
                - price
                - in_stock
                - quantity
              example:
                name: "New Product"
                description: "New Product Description"
                price: 49.99
                in_stock: true
                quantity: 50
                rating: 4.8
      responses:
        '200':
          description: Product created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  product:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      description:
                        type: string
                      price:
                        type: number
                        format: float
                      in_stock:
                        type: boolean
                      quantity:
                        type: integer
                      rating:
                        type: number
                        format: float
                example:
                  status: "success"
                  message: "Product created successfully"
                  product:
                    id: 2
                    name: "New Product"
                    description: "New Product Description"
                    price: 49.99
                    in_stock: true
                    quantity: 50
                    rating: 4.8

  /api/v1/products/{id}:
    get:
      tags:
        - products
      summary: Get product by ID
      parameters:
        - name: id
          in: path
          description: ID of the product
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Product details
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  product:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      description:
                        type: string
                      price:
                        type: number
                        format: float
                      in_stock:
                        type: boolean
                      quantity:
                        type: integer
                      rating:
                        type: number
                        format: float
                      productImage:
                        type: object
                        properties:
                          id:
                            type: integer
                          url:
                            type: string
                example:
                  status: "success"
                  product:
                    id: 1
                    name: "Product 1"
                    description: "Description of Product 1"
                    price: 19.99
                    in_stock: true
                    quantity: 100
                    rating: 4.5
                    productImage:
                      id: 1
                      url: "https://example.com/image1.jpg"
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Product not found"
    put:
      tags:
        - products
      summary: Update a product
      parameters:
        - name: id
          in: path
          description: ID of the product
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                price:
                  type: number
                  format: float
                in_stock:
                  type: boolean
                quantity:
                  type: integer
                rating:
                  type: number
                  format: float
              example:
                name: "Updated Product"
                description: "Updated Product Description"
                price: 59.99
                in_stock: false
                quantity: 30
                rating: 4.2
      responses:
        '200':
          description: Product updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  product:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      description:
                        type: string
                      price:
                        type: number
                        format: float
                      in_stock:
                        type: boolean
                      quantity:
                        type: integer
                      rating:
                        type: number
                        format: float
                example:
                  status: "success"
                  message: "Product updated successfully"
                  product:
                    id: 1
                    name: "Updated Product"
                    description: "Updated Product Description"
                    price: 59.99
                    in_stock: false
                    quantity: 30
                    rating: 4.2
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Product not found"
        '422':
          description: Validation errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  errors:
                    type: object
                    additionalProperties:
                      type: array
                      items:
                        type: string
                example:
                  status: "error"
                  errors:
                    name:
                      - "The name field is required."
                    price:
                      - "The price must be a number."
                    quantity:
                      - "The quantity field must be an integer."

    delete:
      tags:
        - products
      summary: Delete a product
      parameters:
        - name: id
          in: path
          description: ID of the product
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Product deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  product:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      description:
                        type: string
                      price:
                        type: number
                        format: float
                      in_stock:
                        type: boolean
                      quantity:
                        type: integer
                      rating:
                        type: number
                        format: float
                example:
                  status: "success"
                  message: "Product deleted successfully"
                  product:
                    id: 1
                    name: "Product 1"
                    description: "Description of Product 1"
                    price: 19.99
                    in_stock: true
                    quantity: 100
                    rating: 4.5
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Product not found"

  /api/v1/product-images:
    get:
      tags:
        - product images
      summary: List all product images
      responses:
        '200':
          description: List of all product images
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  images:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        src:
                          type: string
                        title:
                          type: string
                        description:
                          type: string
                        mime_type:
                          type: string
                        alt_text:
                          type: string
                example:
                  status: "success"
                  images:
                    - id: 1
                      src: "https://example.com/image1.jpg"
                      title: "Image 1"
                      description: "Description of Image 1"
                      mime_type: "image/jpeg"
                      alt_text: "Alt text for Image 1"

    post:
      tags:
        - product images
      summary: Add new product image
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                src:
                  type: string
                title:
                  type: string
                description:
                  type: string
                mime_type:
                  type: string
                alt_text:
                  type: string
              required:
                - src
              example:
                src: "https://example.com/new-image.jpg"
                title: "New Image"
                description: "Description of New Image"
                mime_type: "image/png"
                alt_text: "Alt text for New Image"
      responses:
        '201':
          description: Product image created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  product_image:
                    type: object
                    properties:
                      id:
                        type: integer
                      src:
                        type: string
                      title:
                        type: string
                      description:
                        type: string
                      mime_type:
                        type: string
                      alt_text:
                        type: string
                example:
                  status: "success"
                  message: "Product image created successfully"
                  product_image:
                    id: 2
                    src: "https://example.com/new-image.jpg"
                    title: "New Image"
                    description: "Description of New Image"
                    mime_type: "image/png"
                    alt_text: "Alt text for New Image"

  /api/v1/product-images/{id}:
    get:
      tags:
        - product images
      summary: Get product image by ID
      parameters:
        - name: id
          in: path
          description: ID of the product image
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Product image details
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  product_image:
                    type: object
                    properties:
                      id:
                        type: integer
                      src:
                        type: string
                      title:
                        type: string
                      description:
                        type: string
                      mime_type:
                        type: string
                      alt_text:
                        type: string
                example:
                  status: "success"
                  product_image:
                    id: 1
                    src: "https://example.com/image1.jpg"
                    title: "Image 1"
                    description: "Description of Image 1"
                    mime_type: "image/jpeg"
                    alt_text: "Alt text for Image 1"
        '404':
          description: Product image not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Product image not found"

    put:
      tags:
        - product images
      summary: Update product image
      parameters:
        - name: id
          in: path
          description: ID of the product image
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                src:
                  type: string
                title:
                  type: string
                description:
                  type: string
                mime_type:
                  type: string
                alt_text:
                  type: string
              example:
                src: "https://example.com/updated-image.jpg"
                title: "Updated Image"
                description: "Updated Description"
                mime_type: "image/png"
                alt_text: "Updated Alt Text"
      responses:
        '200':
          description: Product image updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  product_image:
                    type: object
                    properties:
                      id:
                        type: integer
                      src:
                        type: string
                      title:
                        type: string
                      description:
                        type: string
                      mime_type:
                        type: string
                      alt_text:
                        type: string
                example:
                  status: "success"
                  message: "Product image updated successfully"
                  product_image:
                    id: 1
                    src: "https://example.com/updated-image.jpg"
                    title: "Updated Image"
                    description: "Updated Description"
                    mime_type: "image/png"
                    alt_text: "Updated Alt Text"
        '404':
          description: Product image not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "error"
                  message: "Product image not found"
        '422':
          description: Validation errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  errors:
                    type: object
                    additionalProperties:
                      type: array
                      items:
                        type: string
                example:
                  status: "error"
                  errors:
                    src:
                      - "The src field is required."
                    mime_type:
                      - "The mime_type must be a string."

  /api/v1/cart/{id}:
    get:
      tags:
        - carts
      summary: Get cart by ID
      parameters:
        - name: id
          in: path
          description: ID of the cart
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Cart details
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  cart:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        price:
                          type: number
                          format: float
                        quantity:
                          type: integer
                  customer_id:
                    type: integer
                example:
                  status: "success"
                  cart:
                    - id: 1
                      name: "Product 1"
                      price: 100.0
                      quantity: 2
                  customer_id: 1
    delete:
      tags:
        - carts
      summary: Delete cart
      parameters:
        - name: id
          in: path
          description: ID of the cart to delete
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Cart deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  eooo:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        price:
                          type: number
                          format: float
                        quantity:
                          type: integer
                example:
                  status: "success"
                  message: "Cart deleted"
                  eooo:
                    - id: 1
                      name: "Product 1"
                      price: 100.0
                      quantity: 2

  /api/v1/cart/products/{id}:
    post:
      tags:
        - carts
      summary: Add product to the cart
      parameters:
        - name: id
          in: path
          description: ID of the product to add to the cart
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                quantity:
                  type: integer
                  default: 1
              example:
                quantity: 1
      responses:
        '200':
          description: Product added to the cart
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  cart:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        price:
                          type: number
                          format: float
                        quantity:
                          type: integer
                  quantity:
                    type: integer
                  pivot:
                    type: object
                    properties:
                      quantity:
                        type: integer
                example:
                  status: "success"
                  message: "Product added to the cart"
                  cart:
                    - id: 1
                      name: "Product 1"
                      price: 100.0
                      quantity: 2
                  quantity: 2
                  pivot:
                    quantity: 2

  /api/v1/cart/{id}/products/{productId}:
    post:
      tags:
        - carts
      summary: Remove product from the cart
      parameters:
        - name: id
          in: path
          description: ID of the cart
          required: true
          schema:
            type: integer
        - name: productId
          in: path
          description: ID of the product to remove
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Product removed from the cart
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                example:
                  status: "success"
                  message: "Product removed from the cart"
        '404':
          description: Cart or product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                example:
                  message: "Cart or product not found"

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
